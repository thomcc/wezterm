<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Wez's Terminal Emulator</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="custom.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded affix "><a href="index.html">wezterm</a></li><li class="expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Install</a></li><li class="expanded "><a href="features.html"><strong aria-hidden="true">2.</strong> Features</a></li><li class="expanded "><a href="changelog.html"><strong aria-hidden="true">3.</strong> Change Log</a></li><li class="expanded "><a href="config/index.html"><strong aria-hidden="true">4.</strong> Configuration</a></li><li><ol class="section"><li class="expanded "><a href="config/fonts.html"><strong aria-hidden="true">4.1.</strong> Fonts</a></li><li class="expanded "><a href="config/font-shaping.html"><strong aria-hidden="true">4.2.</strong> Font Shaping</a></li><li class="expanded "><a href="config/misc.html"><strong aria-hidden="true">4.3.</strong> Misc</a></li><li class="expanded "><a href="config/keys.html"><strong aria-hidden="true">4.4.</strong> Key Binding</a></li><li class="expanded "><a href="config/appearance.html"><strong aria-hidden="true">4.5.</strong> Colors &amp; Appearance</a></li></ol></li><li class="expanded "><a href="hyperlinks.html"><strong aria-hidden="true">5.</strong> Hyperlinks</a></li><li class="expanded "><a href="shell-integration.html"><strong aria-hidden="true">6.</strong> Shell Integration</a></li><li class="expanded "><a href="imgcat.html"><strong aria-hidden="true">7.</strong> iTerm Image Protocol</a></li><li class="expanded "><a href="ssh.html"><strong aria-hidden="true">8.</strong> SSH</a></li><li class="expanded "><a href="serial.html"><strong aria-hidden="true">9.</strong> Serial Ports &amp; Arduino</a></li><li class="expanded "><a href="multiplexing.html"><strong aria-hidden="true">10.</strong> Multiplexing</a></li><li class="expanded "><a href="faq.html"><strong aria-hidden="true">11.</strong> F.A.Q.</a></li><li class="expanded "><a href="help.html"><strong aria-hidden="true">12.</strong> Getting Help</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Wez's Terminal Emulator</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><em>WezTerm is a GPU-accelerated cross-platform terminal emulator and multiplexer written by <a href="https://github.com/wez/">@wez</a> and implemented in <a href="https://www.rust-lang.org/">Rust</a></em></p>
<p><a class="btn" href="installation.html">Download</a></p>
<h2><a class="header" href="#features" id="features">Features</a></h2>
<ul>
<li>Runs on Linux, macOS and Windows 10</li>
<li><a href="multiplexing.html">Multiplex terminal tabs and windows on local and remote hosts, with native mouse and scrollback</a></li>
<li><a href="https://github.com/tonsky/FiraCode#fira-code-monospaced-font-with-programming-ligatures">Ligatures</a>, Color Emoji and font fallback, with true color and <a href="config/appearance.html#colors">dynamic color schemes</a>.</li>
<li><a href="hyperlinks.html">Hyperlinks</a></li>
<li><a href="features.html">a full list of features can be found here</a></li>
</ul>
<p>Looking for a <a href="config/index.html">configuration reference?</a></p>
<img width="100%" height="100%" src="screenshots/two.png" alt="Screenshot">
<p><em>Screenshot of wezterm on macOS, running vim</em></p>
<h2><a class="header" href="#installing-on-windows" id="installing-on-windows">Installing on Windows</a></h2>
<p>Windows 10 or later is required to run WezTerm.</p>
<p><a href="https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/WezTerm-windows-github-20200202-200216-b07ed454.zip" class="btn">Download for Windows</a>
<a href="https://github.com/wez/wezterm/releases/download/nightly/WezTerm-windows-nightly.zip" class="btn">Nightly for Windows</a></p>
<ol>
<li>Download <a href="https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/WezTerm-windows-github-20200202-200216-b07ed454.zip">Release</a></li>
<li>Extract the zipfile and double-click <code>wezterm.exe</code> to run the UI</li>
<li>Configuration instructions can be <a href="config/index.html">found here</a></li>
</ol>
<h2><a class="header" href="#installing-on-macos" id="installing-on-macos">Installing on macOS</a></h2>
<p>The CI system builds the package on macOS Mojave (10.14).  It may run on earlier
versions of macOS, but that has not been tested.</p>
<p><a href="https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/WezTerm-macos-github-20200202-200216-b07ed454.zip" class="btn">Download for macOS</a>
<a href="https://github.com/wez/wezterm/releases/download/nightly/WezTerm-macos-nightly.zip" class="btn">Nightly for macOS</a></p>
<ol>
<li>Download <a href="https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/WezTerm-macos-github-20200202-200216-b07ed454.zip">Release</a></li>
<li>Extract the zipfile and drag the <code>WezTerm.app</code> bundle to your <code>Applications</code> folder</li>
<li>First time around, you may need to right click and select <code>Open</code> to allow launching
the application that your just downloaded from the internet.</li>
<li>Subsequently, a simple double-click will launch the UI</li>
<li>Configuration instructions can be <a href="config/index.html">found here</a></li>
</ol>
<h2><a class="header" href="#installing-on-ubuntu" id="installing-on-ubuntu">Installing on Ubuntu</a></h2>
<p>The CI system builds a <code>.deb</code> file on Ubuntu 16.04.  It is compatible with other
debian style systems, including Debian 9 (Stretch) and later versions.</p>
<p><a href="https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/wezterm-20200202-200216-b07ed454.deb" class="btn">Download for Ubuntu</a>
<a href="https://github.com/wez/wezterm/releases/download/nightly/wezterm-nightly.deb" class="btn">Nightly for Ubuntu</a></p>
<pre><code class="language-bash">curl -LO https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/wezterm-20200202-200216-b07ed454.deb
sudo apt install -y ./wezterm-20200202-200216-b07ed454.deb
</code></pre>
<ul>
<li>The package installs <code>/usr/bin/wezterm</code> and <code>/usr/share/applications/wezterm.desktop</code></li>
<li>Configuration instructions can be <a href="config/index.html">found here</a></li>
</ul>
<h2><a class="header" href="#installing-on-fedora" id="installing-on-fedora">Installing on Fedora</a></h2>
<p>The CI system builds an <code>.rpm</code> file on Fedora 31.</p>
<p><a href="https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/wezterm-20200202_200216_b07ed454-1.fc31.x86_64.rpm" class="btn">Download for Fedora</a>
<a href="https://github.com/wez/wezterm/releases/download/nightly/wezterm-nightly-fedora31.rpm" class="btn">Nightly for Fedora</a></p>
<pre><code class="language-bash">sudo dnf install -y https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/wezterm-20200202_200216_b07ed454-1.fc31.x86_64.rpm
</code></pre>
<ul>
<li>The package installs <code>/usr/bin/wezterm</code> and <code>/usr/share/applications/wezterm.desktop</code></li>
<li>Configuration instructions can be <a href="config/index.html">found here</a></li>
</ul>
<h2><a class="header" href="#installing-on-centos" id="installing-on-centos">Installing on CentOS</a></h2>
<p>The CI system builds an <code>.rpm</code> file on CentOS 7.</p>
<!-- a href="{{ centos_stable }}" class="btn">Download for CentOS</a -->
<p><a href="https://github.com/wez/wezterm/releases/download/nightly/wezterm-nightly-centos7.rpm" class="btn">Nightly for CentOS</a></p>
<pre><code class="language-bash">sudo dnf install -y https://github.com/wez/wezterm/releases/download/nightly/wezterm-nightly-centos7.rpm
</code></pre>
<ul>
<li>The package installs <code>/usr/bin/wezterm</code> and <code>/usr/share/applications/wezterm.desktop</code></li>
<li>Configuration instructions can be <a href="config/index.html">found here</a></li>
</ul>
<h2><a class="header" href="#installing-on-linux-via-appimage" id="installing-on-linux-via-appimage">Installing on Linux via AppImage</a></h2>
<p>If you have some other Linux system, or otherwise prefer AppImage over your
system package format, you can download a build by following these steps.</p>
<p><a href="https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/WezTerm-b07ed45-x86_64.AppImage" class="btn">AppImage</a>
<a href="https://github.com/wez/wezterm/releases/download/nightly/WezTerm-nightly.AppImage" class="btn">Nightly AppImage</a></p>
<pre><code class="language-bash">curl -LO https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/WezTerm-b07ed45-x86_64.AppImage
chmod +x WezTerm-b07ed45-x86_64.AppImage
</code></pre>
<p>You may then execute the appimage directly to launch wezterm.</p>
<ul>
<li>Configuration instructions can be <a href="config/index.html">found here</a></li>
</ul>
<h2><a class="header" href="#raw-linux-binary" id="raw-linux-binary">Raw Linux Binary</a></h2>
<p>Another option for linux is a raw binary archive.  These are the same binaries that
are built for Ubuntu but provided in a tarball.</p>
<p><a href="https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/wezterm-20200202-200216-b07ed454.tar.xz" class="btn">Download raw Linux binaries</a>
<a href="https://github.com/wez/wezterm/releases/download/nightly/wezterm-nightly.tar.xz"
 class="btn">Nightly raw Linux binaries</a></p>
<h2><a class="header" href="#installing-from-source" id="installing-from-source">Installing from source</a></h2>
<p>If your system isn't covered by the list above, then you can build it for yourself.
WezTerm should run on any modern unix as well as Windows 10 and macOS.</p>
<ul>
<li>Install <code>rustup</code> to get the <code>rust</code> compiler installed on your system.
<a href="https://www.rust-lang.org/en-US/install.html">Install rustup</a></li>
<li>Rust version 1.39 or later is required</li>
<li>Build in release mode: <code>cargo build --release</code></li>
<li>Run it via either <code>cargo run --release</code> or <code>target/release/wezterm</code></li>
</ul>
<p>You will need a collection of support libraries; the <a href="https://github.com/wez/wezterm/blob/master/get-deps"><code>get-deps</code></a> script will
attempt to install them for you.  If it doesn't know about your system,
<a href="https://github.com/wez/wezterm/blob/master/CONTRIBUTING.md">please contribute instructions!</a></p>
<p>If you don't plan to submit a pull request to the wezterm repo, you can
download a smaller source tarball using these steps:</p>
<pre><code class="language-bash">curl https://sh.rustup.rs -sSf | sh -s
curl -LO https://github.com/wez/wezterm/releases/download/20200202-200216-b07ed454/wezterm-20200202-200216-b07ed454-src.tar.gz
tar -xzf wezterm-20200202-200216-b07ed454-src.tar.gz
cd wezterm-20200202-200216-b07ed454
sudo ./get-deps
cargo build --release
cargo run --release -- start
</code></pre>
<p>Alternatively, use the full git repo:</p>
<pre><code class="language-bash">curl https://sh.rustup.rs -sSf | sh -s
git clone --depth=1 --branch=master --recursive https://github.com/wez/wezterm.git
cd wezterm
git submodule update --init --recursive
sudo ./get-deps
cargo build --release
cargo run --release -- start
</code></pre>
<h2><a class="header" href="#available-features" id="available-features">Available Features</a></h2>
<ul>
<li>Runs on Linux, macOS and Windows 10</li>
<li><a href="multiplexing.html">Multiplex terminal tabs and windows on local and remote hosts, with native mouse and scrollback</a></li>
<li><a href="https://github.com/tonsky/FiraCode#fira-code-monospaced-font-with-programming-ligatures">Ligatures</a>, Color Emoji and font fallback, with true color and <a href="config/appearance.html#colors">dynamic color schemes</a>.</li>
<li><a href="hyperlinks.html">Hyperlinks</a></li>
<li>Scrollback (use mouse wheel and <code>Shift-PageUp</code> and <code>Shift PageDown</code>)</li>
<li>xterm style selection of text with mouse; paste selection via <code>Shift-Insert</code> (bracketed paste is supported!)</li>
<li>SGR style mouse reporting (works in vim and tmux)</li>
<li>Render underline, double-underline, italic, bold, strikethrough (most other terminal emulators do not support as many render attributes)</li>
<li>Configuration via a <a href="config/index.html">configuration file</a> with hot reloading</li>
<li>Multiple Windows (Hotkey: <code>Super-N</code>)</li>
<li>Tabs (Hotkey: <code>Super-T</code>, next/prev: <code>Super-[</code> and <code>Super-]</code>, go-to: <code>Super-[1-9]</code>)
<video width="80%" controls src="screenshots/wezterm-tabs.mp4" loop></video></li>
<li><a href="ssh.html">SSH client with native tabs</a></li>
<li><a href="serial.html">Connect to serial ports for embedded/Arduino work</a></li>
<li>Connect to a local multiplexer server over unix domain sockets</li>
<li>Connect to a remote multiplexer using SSH or TLS over TCP/IP</li>
<li>iTerm2 compatible image protocol support, and built-in <a href="imgcat.html">imgcat command</a></li>
</ul>
<h2><a class="header" href="#features-for-the-future" id="features-for-the-future">Features for the Future</a></h2>
<ul>
<li>Sixel graphics support</li>
</ul>
<h2><a class="header" href="#changes" id="changes">Changes</a></h2>
<p>Releases are named using the date, time and git commit
hash.</p>
<h3><a class="header" href="#nightly" id="nightly">Nightly</a></h3>
<p>A bleeding edge build is produced continually (at least
daily) from the master branch.  It may not be usable and
the feature set may change.  As features stabilize some
brief notes about them may accumulate here.</p>
<ul>
<li>Added <code>initial_rows</code> and <code>initial_cols</code> config options to set the starting
size of new terminal windows</li>
<li>Added <code>hide_tab_bar_if_only_one_tab = true</code> config option to hide the tab
bar when the window contains only a single tab.</li>
<li>Added <code>HideApplication</code> key action (defaults to <code>CMD-H</code> on macOS only) which
hides the wezterm application.  This is macOS specific.</li>
<li>Added <code>QuitApplication</code> key action which causes the gui loop to terminate
and the application to exit.  This is not bound by default, but you may
choose to assign it to something like <code>CMD-Q</code>.</li>
<li>Added <code>set_environment_variables</code> configuration section to allow defining
some environment variables to be passed to your shell.</li>
<li>Added lua based configuration.  Reading TOML configuration will be rapidly
phased out in favor of the more flexible lua config; for now, both are
supported, but new features may not be available via TOML.</li>
<li>Added launcher overlay.  Right click the <code>+</code> button on the tab bar or
bind a key to <code>ShowLauncher</code> to activate it.  It allows spawning tabs in
various domains as well as attaching multiplexer sessions that were not
connected automatically at startup.</li>
</ul>
<h3><a class="header" href="#20200202-181957-765184e5" id="20200202-181957-765184e5">20200202-181957-765184e5</a></h3>
<ul>
<li>Improved font shaping performance 2-3x by adding a shaper cache</li>
<li>Windows: now has support for TLS based multiplexer connections</li>
<li>Multiplexer: TLS multiplexer can now be bootstrapped via SSH, and automatically
manages certificates</li>
<li>Unix: We now default to spawning shells with the <code>-l</code> argument to request a login
shell.  This is important on macOS where the default GUI environment doesn't
source a working PATH from the shell, resulting in an anemic PATH unless the
user has taken care to cover this in their shell startup.  <code>-l</code> works to enable
a login shell in <code>zsh</code>, <code>bash</code>, <code>fish</code> and <code>tcsh</code>.  If it doesn't work with your
shell, you can use the <code>default_prog</code> configuration option to override this.</li>
<li>We now accept <code>rgb:XX/XX/XX</code> color syntax for OSC 4 and related escape
sequences; previously only <code>#XXXXXX</code> and named colors were accepted.</li>
<li>We now accept OSC 104 to reset custom colors to their defaults.</li>
<li>Added Tab Navigator overlay for folks that hoard tabs; it presents
an interactive UI for selecting and activating a tab from a vertically
oriented list.  This is bound to <code>Alt-9</code> by default.</li>
<li>Added support for DEC Origin Mode (<code>DECOM</code>) which improves cursor positioning
with some applications</li>
<li>Added support for DEC AutoWrap Mode (<code>DECAWM</code>) which was previously always on.
This improves rendering for applications that explicitly disable it.</li>
<li>We now show a connection status window while establishing MUX and SSH connections.
The status window is also where any interactive authentication is carried out
for eg: SSH sessions.</li>
<li>Improved SSH authentication handling; we now give you a few opportunities to
authenticate and are now able to successfully authenticate with sites that
have configured 2-Factor authentication in their server side SSH configuration.</li>
<li>Fixed an issue where SHIFT-Space would swallow the space key.</li>
<li>Nightly builds are now available for Linux in <a href="https://github.com/wez/wezterm/releases/download/nightly/WezTerm-nightly.AppImage">AppImage</a> format.</li>
<li>Shift+Left Mouse button can now be used to extend the selection to the clicked location.  This is particularly helpful when you want to select something that is larger than the viewport.</li>
<li>Windows: a single mouse wheel tick now scrolls by the number of positions configured in the Windows system settings (default 3)</li>
<li>Windows: fixed IME position when the tab bar is enabled</li>
<li>Windows: removed support for WinPty, which was too difficult to obtain, configure and use.</li>
<li>Configuration errors now show in a separate window on startup, or when the configuration is reloaded</li>
<li>Improved reliability and performance of MUX sessions, although they still have room for further improvement</li>
</ul>
<h3><a class="header" href="#20200113-214446-bb6251f" id="20200113-214446-bb6251f">20200113-214446-bb6251f</a></h3>
<ul>
<li>Added <code>color_scheme</code> configuration option and more than 200 color schemes</li>
<li>Improved resize behavior; lines that were split due to
the width of the terminal are now rewrapped on resize.
<a href="https://github.com/wez/wezterm/issues/14">Issue 14</a></li>
<li>Double-click and triple-click and hold followed by a drag now extends
the selection by word and line respectively.</li>
<li>The OSC 7 (CurrentWorkingDirectory) escape sequence is now supported; wezterm records the cwd in a tab and that will be used to set the working directory when spawning new tabs in the same domain.  You will need to configure your shell to emit OSC 7 when appropriate.</li>
<li><a href="https://github.com/wez/wezterm/commit/f0e94084d1df36009b879b06e9cfd2be946168e8">Changed Backspace/Delete handling</a></li>
<li>Added <code>MoveTabRelative</code> for changing the ordering of tabs within a window
using key assignments <code>CTRL+SHIFT+PageUp</code> and <code>CTRL+SHIFT+PageDown</code></li>
<li><a href="https://github.com/wez/wezterm/issues/106">The multiplexer protocol is undergoing major changes</a>.
The multiplexer will now raise an error if the client and server are incompatible.</li>
<li>Fixed an issue where wezterm would linger for a few seconds after the last tab was closed</li>
<li>Fixed an issue where wezterm wouldn't repaint the screen after a tab was closed</li>
<li>Clicking the OS window close button in the titlebar now closes the window rather than the active tab</li>
<li>Added <code>use_ime</code> option to optionally disable the use of the IME on macOS.  You might consider enabling this if you don't like the way that the IME swallows key repeats for some keys.</li>
<li>Fix an <a href="https://github.com/knsd/daemonize/pull/39">issue</a> where the pidfile would leak into child processes and block restarting the mux server</li>
<li>Fix an issue where the title bars of remote tabs were not picked up at domain attach time</li>
<li>Fixed selection and scrollbar position for multiplexer tabs</li>
<li>Added <code>ScrollByPage</code> key assignment and moved the <code>SHIFT+PageUp</code> handling up to the
gui layer so that it can be rebound.</li>
<li>X11: a single mouse wheel tick now scrolls by 5 rows rather than 1</li>
<li>Wayland: normalize line endings to unix line endings when pasting</li>
<li>Windows: fixed handling of focus related messages, which impacted both the appearance of
the text cursor and copy and paste handling.</li>
<li>When hovering over implicitly hyperlinked items, we no longer show the underline for every other URL with the same destination</li>
</ul>
<h3><a class="header" href="#20191229-193639-e7aa2f3" id="20191229-193639-e7aa2f3">20191229-193639-e7aa2f3</a></h3>
<ul>
<li>Fixed a hang when using middle mouse button to paste</li>
<li>Recognize 8-bit C1 codes encoded as UTF-8, which are used in the Fedora 31 bash prexec notification for gnome terminal</li>
<li>Ensure that underlines are a minimum of 1 pixel tall</li>
<li>Reduced CPU utilization on some Wayland compositors</li>
<li>Added <code>$WEZTERM_CONFIG_FILE</code> to the start of the config file search path</li>
<li>Added new font rendering options:</li>
</ul>
<pre><code>font_antialias = &quot;Subpixel&quot; # None, Greyscale, Subpixel
font_hinting = &quot;Full&quot; # None, Vertical, VerticalSubpixel, Full
</code></pre>
<ul>
<li>Early startup errors now generate a &quot;toast&quot; notification, giving you more of a clue about what went wrong</li>
<li>We now use the default configuration if the config file had errors, rather than refusing to start</li>
<li>Wayland compositors: Improved detection of display scaling on startup</li>
<li>Added <code>harfuzz_features</code> option to specify stylistic sets for fonts such as Fira Code, and to control various typographical options</li>
<li>Added a <code>window_padding</code> config section to add padding to the window display</li>
<li>We now respect <a href="https://github.com/wez/wezterm/issues/7">DECSCUSR and DECTCEM</a> escape sequence to select between hidden, block, underline and bar cursor types, as well as blinking cursors.  New configuration options have been added to control the appearance and blink rate.</li>
<li>We now support an optional basic scroll bar.  The scroll bar occupies the right window padding and has a configurable color.  Scroll bars are not yet supported for multiplexer connections and remain disabled by default for the moment.</li>
<li>Color scheme changes made in the config file now take effect at config reload time for all tabs that have not applied a dynamic color scheme.</li>
</ul>
<h3><a class="header" href="#20191218-101156-bf35707" id="20191218-101156-bf35707">20191218-101156-bf35707</a></h3>
<ul>
<li>Configuration errors detected during config loading are now shown as a system notification</li>
<li>New <code>font_dirs</code> configuration option to specify a set of dirs to search for fonts. Useful for self-contained wezterm deployments.</li>
<li>The <code>font_system</code> option has been split into <code>font_locator</code>, <code>font_shaper</code> and <code>font_rasterizer</code> options.</li>
<li>Don't allow child processes to inherit open font files on posix systems!</li>
<li>Disable Nagle's algorithm for <code>wezterm ssh</code> sessions</li>
<li>Add native Wayland window system support</li>
</ul>
<h3><a class="header" href="#20191124-233250-cb9fd7d" id="20191124-233250-cb9fd7d">20191124-233250-cb9fd7d</a></h3>
<ul>
<li>New tab bar UI displays tabs and allows creating new tabs</li>
<li>Configuration file changes are hot reloaded and take effect automatically on save</li>
<li><code>wezterm ssh user@host</code> for ad-hoc SSH sessions. You may also define SSH multiplexer sessions.</li>
<li><code>wezterm serial /dev/ttyUSB0</code> to connect to your Arduino</li>
<li><code>wezterm imgcat /some/image.png</code> to display images inline in the terminal using the iTerm2 image protocol</li>
<li>IME support on macOS and Windows systems</li>
<li>Automatic fallback to software rendering if no GPU is available (eg: certain types of remote desktop sessions)</li>
</ul>
<h2><a class="header" href="#configuration-files" id="configuration-files">Configuration Files</a></h2>
<p><code>wezterm</code> will look for a TOML configuration file in the following locations,
stopping at the first file that it finds:</p>
<ul>
<li>If the environment variable <code>$WEZTERM_CONFIG_FILE</code> is set, it will be treated as the
path to a configuration file.</li>
<li>On Windows, <code>wezterm.toml</code> from the directory that contains <code>wezterm.exe</code>.
This is handy for users that want to carry their wezterm install around on a thumb drive.</li>
<li><code>$HOME/.config/wezterm/wezterm.toml</code>,</li>
<li><code>$HOME/.wezterm.toml</code></li>
</ul>
<p><code>wezterm</code> will watch the config file that it loads;
if/when it changes, the configuration will be
automatically reloaded and the majority of options
will take effect immediately.  You may also use the
<code>CTRL+SHIFT+R</code> keyboard shortcut to force the configuration to be reloaded.</p>
<p>Configuration is currently very simple and the format is considered unstable and subject
to change.  The code for configuration can be found in <a href="https://github.com/wez/wezterm/blob/master/src/config/mod.rs"><code>src/config/mod.rs</code></a>.</p>
<h3><a class="header" href="#font-related-configuration" id="font-related-configuration">Font Related Configuration</a></h3>
<p>By default, wezterm will use an appropriate system-specific method for
locating the fonts that you specify using the options below.  In addition,
if you configure the <code>font_dirs</code> option, wezterm will load fonts from that
set of directories:</p>
<pre><code class="language-toml"># This tells wezterm to look first for fonts in the directory named
# `fonts` that is found alongside your `wezterm.toml` file.
# As this option is an array, you may list multiple locations if
# you wish.
font_dirs = [&quot;fonts&quot;]
</code></pre>
<p>The following options impact how text is rendered:</p>
<pre><code class="language-toml"># The font size, measured in points
font_size = 11

# The DPI to assume, measured in dots-per-inch
# This is not automatically probed!  If you experience blurry text
# or notice slight differences when comparing with other terminal
# emulators, you may wish to tune this value!
dpi = 96
</code></pre>
<p>The baseline font is configured via the <code>[[font.font]]</code> section:</p>
<pre><code class="language-toml">[[font.font]]
# The font family name.  The default is &quot;Menlo&quot; on macOS,
# &quot;Consolas&quot; on Windows and &quot;monospace&quot; on X11 based systems.
# &quot;Fira Code&quot; to enjoy ligatures without buying an expensive font!
family = &quot;Operator Mono SSm Lig Medium&quot;
# Whether the font should be a bold variant
# bold = false
# Whether the font should be an italic variant
# italic = false
</code></pre>
<p>If you'd like to specify fallback fonts (eg: you've got a killer
monospace font, but it doesn't have glyphs for the asian script
that you sometimes work with), you can specify multiple fonts that
wezterm will use in the order you specify:</p>
<pre><code class="language-toml">[[font.font]]
family = &quot;My Preferred Font&quot;

# This is searched for glyphs that aren't found in the first one
[[font.font]]
family = &quot;My second best font&quot;

# This is searched for glyphs that aren't found in either of
# the first two
[[font.font]]
family = &quot;My third best font&quot;
</code></pre>
<p>You may specify rules that apply different font styling based on
the attributes of the text rendered in the terminal.  Rules are
applied in the order that they are specified in the configuration
file, stopping with the first matching rule.</p>
<pre><code># Define a rule that matches when italic text is shown
[[font_rules]]
# If specified, this rule matches when a cell's italic value exactly
# matches this.  If unspecified, the attribute value is irrelevant
# with respect to matching.
italic = true

# Match based on intensity: &quot;Bold&quot;, &quot;Normal&quot; and &quot;Half&quot; are supported
# intensity = &quot;Normal&quot;

# Match based on underline: &quot;None&quot;, &quot;Single&quot;, and &quot;Double&quot; are supported
# underline = &quot;None&quot;

# Match based on the blink attribute: &quot;None&quot;, &quot;Slow&quot;, &quot;Rapid&quot;
# blink = &quot;None&quot;

# Match based on reverse video
# reverse = false

# Match based on strikethrough
# strikethrough = false

# Match based on the invisible attribute
# invisible = false

  # When the above attributes match, apply this font styling
  [font_rules.font]
  font = [{family = &quot;Operator Mono SSm Lig Medium&quot;, italic=true}]

</code></pre>
<p>Here's an example from my configuration file:</p>
<pre><code># Select a fancy italic font for italic text
[[font_rules]]
italic = true
  [font_rules.font]
  font = [{family = &quot;Operator Mono SSm Lig Medium&quot;, italic=true}]

# Similarly, a fancy bold+italic font
[[font_rules]]
italic = true
intensity = &quot;Bold&quot;
  [font_rules.font]
  font = [{family = &quot;Operator Mono SSm Lig&quot;, italic=true, bold=true}]

# Make regular bold text a different color to make it stand out even more
[[font_rules]]
intensity = &quot;Bold&quot;
  [font_rules.font]
  font = [{family = &quot;Operator Mono SSm&quot;, bold=true}]
  foreground=&quot;tomato&quot;

# For half-intensity text, use a lighter weight font
[[font_rules]]
intensity = &quot;Half&quot;
  [font_rules.font]
  font=[{family = &quot;Operator Mono SSm Lig Light&quot; }]
</code></pre>
<p>There are a couple of additional advanced font configuration options:</p>
<ul>
<li><code>font_locator</code> - specifies the method by which system fonts are
located and loaded.  You may specify <code>ConfigDirsOnly</code> to disable
loading system fonts and use only the fonts found in the directories
that you specify in your <code>font_dirs</code> configuration option.  Otherwise,
it is recommended to omit this setting.</li>
<li><code>font_shaper</code> - specifies the method by which text is mapped to glyphs
in the available fonts.  The shaper is responsible for handling
kerning, ligatures and emoji composition.  The default is <code>Harfbuzz</code>
and we have very preliminary support for <code>Allsorts</code>.</li>
<li><code>font_rasterizer</code> - specifies the method by which fonts are rendered
on screen.  The only available implementation is <code>FreeType</code>.</li>
</ul>
<p>These options affect the appearance of the text.  <code>Subpixel</code> antialiasing
is approximatley equivalent to ClearType rendering on Windows, but some
people find that it appears blurry.  You may wish to try <code>Greyscale</code> in
that case.</p>
<pre><code>font_antialias = &quot;Subpixel&quot; # None, Greyscale, Subpixel
font_hinting = &quot;Full&quot; # None, Vertical, VerticalSubpixel, Full
</code></pre>
<h3><a class="header" href="#advanced-font-shaping-options" id="advanced-font-shaping-options">Advanced Font Shaping Options</a></h3>
<p>The <code>harfbuzz_features</code> option allows specifying the features to enable when
using harfbuzz for font shaping.</p>
<p>There is some light documentation here:
<a href="https://harfbuzz.github.io/shaping-opentype-features.html">https://harfbuzz.github.io/shaping-opentype-features.html</a>
but it boils down to allowing opentype feature names to be specified
using syntax similar to the CSS font-feature-settings options:
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-feature-settings">https://developer.mozilla.org/en-US/docs/Web/CSS/font-feature-settings</a>.
The OpenType spec lists a number of features here:
<a href="https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist">https://docs.microsoft.com/en-us/typography/opentype/spec/featurelist</a></p>
<p>Options of likely interest will be:</p>
<ul>
<li><code>calt</code> - <a href="https://docs.microsoft.com/en-us/typography/opentype/spec/features_ae#tag-calt">https://docs.microsoft.com/en-us/typography/opentype/spec/features_ae#tag-calt</a></li>
<li><code>clig</code> - <a href="https://docs.microsoft.com/en-us/typography/opentype/spec/features_ae#tag-clig">https://docs.microsoft.com/en-us/typography/opentype/spec/features_ae#tag-clig</a></li>
</ul>
<p>If you want to disable ligatures in most fonts, then you may want to
use a setting like this:</p>
<pre><code class="language-toml">harfbuzz_features = [&quot;calt=0&quot;, &quot;clig=0&quot;, &quot;liga=0&quot;]
</code></pre>
<p>Some fonts make available extended options via stylistic sets.
If you use the <a href="https://github.com/tonsky/FiraCode">Fira Code font</a>,
it lists available stylistic sets here:
<a href="https://github.com/tonsky/FiraCode/wiki/How-to-enable-stylistic-sets">https://github.com/tonsky/FiraCode/wiki/How-to-enable-stylistic-sets</a></p>
<p>and you can set them in wezterm:</p>
<pre><code class="language-toml"># Use this for a zero with a dot rather than a line through it
# when using the Fira Code font
harfbuzz_features = [&quot;zero&quot;]
</code></pre>
<h3><a class="header" href="#misc-configuration" id="misc-configuration">Misc configuration</a></h3>
<pre><code class="language-toml"># How many lines of scrollback you want to retain per tab
scrollback_lines = 3500

# Enable the scrollbar.  This is currently disabled by default.
# It will occupy the right window padding space.
# If right padding is set to 0 then it will be increased
# to a single cell width
enable_scroll_bar = true

# If no `prog` is specified on the command line, use this
# instead of running the user's shell.
# The value is the argument array, with the 0th element being
# the executable to run.  The path will be searched to locate
# this if needed.
# For example, to have `wezterm` always run `top` by default,
# you'd use this:
default_prog = [&quot;top&quot;]

# What to set the TERM variable to
term = &quot;xterm-256color&quot;

# Constrains the rate at which output from a child command is
# processed and applied to the terminal model.
# This acts as a brake in the case of a command spewing a
# ton of output and allows for the UI to remain responsive
# so that you can hit CTRL-C to interrupt it if desired.
# The default value is 200,000 bytes/s.
ratelimit_output_bytes_per_second = 200_000

# Constrains the rate at which the multiplexer server will
# unilaterally push data to the client.
# This helps to avoid saturating the link between the client
# and server.
# Each time the screen is updated as a result of the child
# command outputting data (rather than in response to input
# from the client), the server considers whether to push
# the result to the client.
# That decision is throttled by this configuration value
# which has a default value of 10/s
ratelimit_mux_output_pushes_per_second = 10

# Constrain how often the mux server scans the terminal
# model to compute a diff to send to the mux client.
# The default value is 100/s
ratelimit_mux_output_scans_per_second = 100

# If false, do not try to use a Wayland protocol connection
# when starting the gui frontend, and instead use X11.
# This option is only considered on X11/Wayland systems and
# has no effect on macOS or Windows.
# The default is true.
enable_wayland = true


# Specifies how often a blinking cursor transitions between visible
# and invisible, expressed in milliseconds.
# Setting this to 0 disables blinking.
# Note that this value is approximate due to the way that the system
# event loop schedulers manage timers; non-zero values will be at
# least the interval specified with some degree of slop.
# It is recommended to avoid blinking cursors when on battery power,
# as it is relatively costly to keep re-rendering for the blink!
cursor_blink_rate = 800

# Specifies the default cursor style.  various escape sequences
# can override the default style in different situations (eg:
# an editor can change it depending on the mode), but this value
# controls how the cursor appears when it is reset to default.
# The default is `SteadyBlock`.
# Acceptable values are `SteadyBlock`, `BlinkingBlock`,
# `SteadyUnderline`, `BlinkingUnderline`, `SteadyBar`,
# and `BlinkingBar`.
default_cursor_style = &quot;SteadyBlock&quot;
</code></pre>
<h3><a class="header" href="#shortcut--key-binding-assignments" id="shortcut--key-binding-assignments">Shortcut / Key Binding Assignments</a></h3>
<p>The default key bindings are:</p>
<table><thead><tr><th>Modifiers</th><th>Key</th><th>Action</th></tr></thead><tbody>
<tr><td><code>SUPER</code></td><td><code>c</code></td><td><code>Copy</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>v</code></td><td><code>Paste</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>c</code></td><td><code>Copy</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>v</code></td><td><code>Paste</code></td></tr>
<tr><td><code>SHIFT</code></td><td><code>Insert</code></td><td><code>Paste</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>m</code></td><td><code>Hide</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>n</code></td><td><code>SpawnWindow</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>n</code></td><td><code>SpawnWindow</code></td></tr>
<tr><td><code>ALT</code></td><td><code>Enter</code></td><td><code>ToggleFullScreen</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>-</code></td><td><code>DecreaseFontSize</code></td></tr>
<tr><td><code>CTRL</code></td><td><code>-</code></td><td><code>DecreaseFontSize</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>=</code></td><td><code>IncreaseFontSize</code></td></tr>
<tr><td><code>CTRL</code></td><td><code>=</code></td><td><code>IncreaseFontSize</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>0</code></td><td><code>ResetFontSize</code></td></tr>
<tr><td><code>CTRL</code></td><td><code>0</code></td><td><code>ResetFontSize</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>t</code></td><td><code>SpawnTabInCurrentTabDomain</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>t</code></td><td><code>SpawnTabInCurrentTabDomain</code></td></tr>
<tr><td><code>SUPER+SHIFT</code></td><td><code>T</code></td><td><code>SpawnTab</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>w</code></td><td><code>CloseCurrentTab</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>1</code></td><td><code>ActivateTab(0)</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>2</code></td><td><code>ActivateTab(1)</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>3</code></td><td><code>ActivateTab(2)</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>4</code></td><td><code>ActivateTab(3)</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>5</code></td><td><code>ActivateTab(4)</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>6</code></td><td><code>ActivateTab(5)</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>7</code></td><td><code>ActivateTab(6)</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>8</code></td><td><code>ActivateTab(7)</code></td></tr>
<tr><td><code>SUPER</code></td><td><code>9</code></td><td><code>ActivateTab(8)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>w</code></td><td><code>CloseCurrentTab</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>1</code></td><td><code>ActivateTab(0)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>2</code></td><td><code>ActivateTab(1)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>3</code></td><td><code>ActivateTab(2)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>4</code></td><td><code>ActivateTab(3)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>5</code></td><td><code>ActivateTab(4)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>6</code></td><td><code>ActivateTab(5)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>7</code></td><td><code>ActivateTab(6)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>8</code></td><td><code>ActivateTab(7)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>9</code></td><td><code>ActivateTab(8)</code></td></tr>
<tr><td><code>SUPER+SHIFT</code></td><td><code>[</code></td><td><code>ActivateTabRelative(-1)</code></td></tr>
<tr><td><code>SUPER+SHIFT</code></td><td><code>]</code></td><td><code>ActivateTabRelative(1)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>PAGEUP</code></td><td><code>MoveTabRelative(-1)</code></td></tr>
<tr><td><code>CTRL+SHIFT</code></td><td><code>PAGEDOWN</code></td><td><code>MoveTabRelative(1)</code></td></tr>
<tr><td><code>SHIFT</code></td><td><code>PAGEUP</code></td><td><code>ScrollByPage(-1)</code></td></tr>
<tr><td><code>SHIFT</code></td><td><code>PAGEDOWN</code></td><td><code>ScrollByPage(1)</code></td></tr>
</tbody></table>
<p>These can be overridden using the <code>keys</code> section in your <code>~/.wezterm.toml</code> config file.
For example, you can disable a default assignment like this:</p>
<pre><code># Turn off the default CMD-m Hide action
[[keys]]
key = &quot;m&quot;
mods = &quot;CMD&quot;
action = &quot;Nop&quot;
</code></pre>
<p>The <code>key</code> value can be one of the following keycode identifiers.  Note that not
all of these are meaningful on all platforms:</p>
<p><code>Hyper</code>, <code>Super</code>, <code>Meta</code>, <code>Cancel</code>, <code>Backspace</code>, <code>Tab</code>, <code>Clear</code>, <code>Enter</code>,
<code>Shift</code>, <code>Escape</code>, <code>LeftShift</code>, <code>RightShift</code>, <code>Control</code>, <code>LeftControl</code>,
<code>RightControl</code>, <code>Alt</code>, <code>LeftAlt</code>, <code>RightAlt</code>, <code>Menu</code>, <code>LeftMenu</code>, <code>RightMenu</code>,
<code>Pause</code>, <code>CapsLock</code>, <code>PageUp</code>, <code>PageDown</code>, <code>End</code>, <code>Home</code>, <code>LeftArrow</code>,
<code>RightArrow</code>, <code>UpArrow</code>, <code>DownArrow</code>, <code>Select</code>, <code>Print</code>, <code>Execute</code>,
<code>PrintScreen</code>, <code>Insert</code>, <code>Delete</code>, <code>Help</code>, <code>LeftWindows</code>, <code>RightWindows</code>,
<code>Applications</code>, <code>Sleep</code>, <code>Numpad0</code>, <code>Numpad1</code>, <code>Numpad2</code>, <code>Numpad3</code>,
<code>Numpad4</code>, <code>Numpad5</code>, <code>Numpad6</code>, <code>Numpad7</code>, <code>Numpad8</code>, <code>Numpad9</code>, <code>Multiply</code>,
<code>Add</code>, <code>Separator</code>, <code>Subtract</code>, <code>Decimal</code>, <code>Divide</code>, <code>NumLock</code>, <code>ScrollLock</code>,
<code>BrowserBack</code>, <code>BrowserForward</code>, <code>BrowserRefresh</code>, <code>BrowserStop</code>,
<code>BrowserSearch</code>, <code>BrowserFavorites</code>, <code>BrowserHome</code>, <code>VolumeMute</code>,
<code>VolumeDown</code>, <code>VolumeUp</code>, <code>MediaNextTrack</code>, <code>MediaPrevTrack</code>, <code>MediaStop</code>,
<code>MediaPlayPause</code>, <code>ApplicationLeftArrow</code>, <code>ApplicationRightArrow</code>,
<code>ApplicationUpArrow</code>, <code>ApplicationDownArrow</code>.</p>
<p>Alternatively, a single unicode character can be specified to indicate
pressing the corresponding key.</p>
<p>Possible Modifier labels are:</p>
<ul>
<li><code>SUPER</code>, <code>CMD</code>, <code>WIN</code> - these are all equivalent: on macOS the <code>Command</code> key,
on Windows the <code>Windows</code> key, on Linux this can also be the <code>Super</code> or <code>Hyper</code>
key.  Left and right are equivalent.</li>
<li><code>SHIFT</code> - The shift key.  Left and right are equivalent.</li>
<li><code>ALT</code>, <code>OPT</code>, <code>META</code> - these are all equivalent: on macOS the <code>Option</code> key,
on other systems the <code>Alt</code> or <code>Meta</code> key.  Left and right are equivalent.</li>
</ul>
<p>You can combine modifiers using the <code>|</code> symbol (eg: <code>&quot;CMD|CTRL&quot;</code>).</p>
<p>Possible actions are listed below.  Some actions require a parameter that is
specified via the <code>arg</code> key; see examples below.</p>
<table><thead><tr><th>Name</th><th>Effect</th></tr></thead><tbody>
<tr><td><code>SpawnTab</code></td><td>Create a new local tab in the current window</td></tr>
<tr><td><code>SpawnTabInCurrentTabDomain</code></td><td>Create a new tab in the current window. The tab will be spawned in the same domain as the currently active tab</td></tr>
<tr><td><code>SpawnTabInDomain</code></td><td>Create a new tab in the current window. The tab will be spawned in the domain specified by the <code>arg</code> value</td></tr>
<tr><td><code>SpawnWindow</code></td><td>Create a new window</td></tr>
<tr><td><code>ToggleFullScreen</code></td><td>Toggles full screen mode for current window</td></tr>
<tr><td><code>Paste</code></td><td>Paste the clipboard to the current tab</td></tr>
<tr><td><code>ActivateTabRelative</code></td><td>Activate a tab relative to the current tab.  The <code>arg</code> value specifies an offset. eg: <code>-1</code> activates the tab to the left of the current tab, while <code>1</code> activates the tab to the right.</td></tr>
<tr><td><code>ActivateTab</code></td><td>Activate the tab specified by the <code>arg</code> value. eg: <code>0</code> activates the leftmost tab, while <code>1</code> activates the second tab from the left, and so on.</td></tr>
<tr><td><code>IncreaseFontSize</code></td><td>Increases the font size of the current window by 10%</td></tr>
<tr><td><code>DecreaseFontSize</code></td><td>Decreases the font size of the current window by 10%</td></tr>
<tr><td><code>ResetFontSize</code></td><td>Reset the font size for the current window to the value in your configuration</td></tr>
<tr><td><code>SendString</code></td><td>Sends the string specified by the <code>arg</code> value to the terminal in the current tab, as though that text were literally typed into the terminal.</td></tr>
<tr><td><code>Nop</code></td><td>Does nothing.  This is useful to disable a default key assignment.</td></tr>
<tr><td><code>Hide</code></td><td>Hides the current window</td></tr>
<tr><td><code>Show</code></td><td>Shows the current window</td></tr>
<tr><td><code>CloseCurrentTab</code></td><td>Equivalent to clicking the <code>x</code> on the window title bar to close it: Closes the current tab.  If that was the last tab, closes that window.  If that was the last window, wezterm terminates.</td></tr>
<tr><td><code>MoveTabRelative</code></td><td>Move the current tab relative to its peers.  The <code>arg</code> value specifies an offset. eg: <code>-1</code> moves the tab to the left of the current tab, while <code>1</code> moves the tab to the right.</td></tr>
<tr><td><code>MoveTab</code></td><td>Move the tab so that it has the index specified by the <code>arg</code> value. eg: <code>0</code> moves the tab to be  leftmost, while <code>1</code> moves the tab so that it is second tab from the left, and so on.</td></tr>
<tr><td><code>ScrollByPage</code></td><td>Adjusts the scroll position by the number of pages specified by the <code>arg</code> value. Negative values scroll upwards, while positive values scroll downwards.</td></tr>
</tbody></table>
<p>Example:</p>
<pre><code class="language-toml"># Turn off the default CMD-m Hide action
[[keys]]
key = &quot;m&quot;
mods = &quot;CMD&quot;
action = &quot;Nop&quot;

# Macro for sending in some boiler plate.  This types `wtf!?` each
# time CMD+SHIFT+W is pressed
[[keys]]
key = &quot;W&quot;
mods = &quot;CMD|SHIFT&quot;
action = &quot;SendString&quot;
arg = &quot;wtf!?&quot;

# CTRL+ALT+0 activates the leftmost tab
[[keys]]
key = &quot;0&quot;
mods = &quot;CTRL|ALT&quot;
action = &quot;ActivateTab&quot;
# the tab number
arg = &quot;0&quot;

# CMD+y spawns a new tab in Domain 1
[[keys]]
key = &quot;y&quot;
mods = &quot;CMD&quot;
action = &quot;SpawnTabInDomain&quot;
# the domain ID
arg = &quot;1&quot;
</code></pre>
<h3><a class="header" href="#color-scheme" id="color-scheme">Color Scheme</a></h3>
<p>Wezterm ships with the full set of over 200 color schemes available from
<a href="https://iterm2colorschemes.com/">iterm2colorschemes.com</a>.  You can select a
color scheme with a line like this:</p>
<pre><code class="language-toml">color_scheme = &quot;Batman&quot;
</code></pre>
<p>There are literally too many schemes to reasonably list here; check out the
screenshots on <a href="https://iterm2colorschemes.com/">iterm2colorschemes.com</a>!</p>
<p>The <code>color_scheme</code> option takes precedence over the <code>colors</code> section below.</p>
<h3><a class="header" href="#defining-your-own-colors" id="defining-your-own-colors">Defining your own colors</a></h3>
<p>Rather than using a color scheme, you can specify the color palette using the
<code>[colors]</code> configuration section.  Note that <code>color_scheme</code> takes precedence
over this section.</p>
<p>You can configure colors with a section like this.  In addition to specifying
<a href="https://docs.rs/palette/0.4.1/palette/named/index.html#constants">SVG/CSS3 color names</a>,
you can use <code>#RRGGBB</code> to specify a color code using the
usual hex notation; eg: <code>#000000</code> is equivalent to <code>black</code>:</p>
<pre><code class="language-toml">[colors]
# The default text color
foreground = &quot;silver&quot;
# The default background color
background = &quot;black&quot;

# Overrides the cell background color when the current cell is occupied by the
# cursor and the cursor style is set to Block
cursor_bg = &quot;#52ad70&quot;
# Overrides the text color when the current cell is occupied by the cursor
cursor_fg = &quot;black&quot;
# Specifies the border color of the cursor when the cursor style is set to Block,
# of the color of the vertical or horizontal bar when the cursor style is set to
# Bar or Underline.
cursor_border = &quot;#52ad70&quot;

# The color of the scrollbar &quot;thumb&quot;; the portion that represents the current viewport
scrollbar_thumb = &quot;#222222&quot;

ansi = [&quot;black&quot;, &quot;maroon&quot;, &quot;green&quot;, &quot;olive&quot;, &quot;navy&quot;, &quot;purple&quot;, &quot;teal&quot;, &quot;silver&quot;]
brights = [&quot;grey&quot;, &quot;red&quot;, &quot;lime&quot;, &quot;yellow&quot;, &quot;blue&quot;, &quot;fuchsia&quot;, &quot;aqua&quot;, &quot;white&quot;]
</code></pre>
<h3><a class="header" href="#defining-a-color-scheme-in-your-weztermtoml" id="defining-a-color-scheme-in-your-weztermtoml">Defining a Color Scheme in your <code>wezterm.toml</code></a></h3>
<p>If you'd like to keep a couple of color schemes handy in your configuration
file, rather than filling out the <code>[colors]</code> section, place it in a
<code>color_schemes</code> section as shown below; you can then reference it using the
<code>color_scheme</code> setting.</p>
<p>Color schemes names that you define in your <code>wezterm.toml</code> take precedence
over all other color schemes.</p>
<p>All of the settings available from the <code>[colors]</code> section are available
to use in the <code>color_schemes</code> sections.</p>
<pre><code class="language-toml">color_scheme = &quot;Red Scheme&quot;

[color_schemes.&quot;Red Scheme&quot;]
background = &quot;red&quot;

[color_schemes.&quot;Blue Scheme&quot;]
background = &quot;blue&quot;
</code></pre>
<h3><a class="header" href="#defining-a-color-scheme-in-a-separate-file" id="defining-a-color-scheme-in-a-separate-file">Defining a Color Scheme in a separate file</a></h3>
<p>If you'd like to factor your color schemes out into separate files, you
can create a file with a <code>[colors]</code> section; take a look at <a href="https://github.com/wez/wezterm/blob/master/assets/colors/Builtin%20Dark.toml">one of
the available color schemes for an example</a>.</p>
<p>You then need to instruct wezterm where to look for your scheme files;
the <code>color_scheme_dirs</code> setting specifies a list of directories to
be searched:</p>
<pre><code>color_scheme_dirs = [&quot;/some/path/to/my/color/schemes&quot;]
</code></pre>
<p>Color scheme names that are defined in files in your <code>color_scheme_dirs</code> list
take precedence over the built-in color schemes.</p>
<h3><a class="header" href="#dynamic-color-escape-sequences" id="dynamic-color-escape-sequences">Dynamic Color Escape Sequences</a></h3>
<p>Wezterm supports dynamically changing its color palette via escape sequences.</p>
<p><a href="https://github.com/mbadolato/iTerm2-Color-Schemes/tree/master/dynamic-colors">The dynamic-colors directory</a>
of the color scheme repo contains shell scripts that can change the color
scheme immediately on the fly.  This can be used in your own scripts to alter
the terminal appearance programmatically:</p>
<pre><code class="language-bash">$ git clone https://github.com/mbadolato/iTerm2-Color-Schemes.git
$ cd iTerm2-Color-Schemes/dynamic-colors
$ for scheme in *.sh ; do ; echo $scheme ; \
   bash &quot;$scheme&quot; ; ../tools/screenshotTable.sh; sleep 0.5; done
</code></pre>
<p><video width="80%" controls src="../screenshots/wezterm-dynamic-colors.mp4" loop></video></p>
<h3><a class="header" href="#tab-bar-colors" id="tab-bar-colors">Tab Bar Colors</a></h3>
<p>The following options control the appearance of the tab bar:</p>
<pre><code class="language-toml">[colors.tab_bar]
# The color of the strip that goes along the top of the window
background = &quot;#0b0022&quot;

# The active tab is the one that has focus in the window
[colors.tab_bar.active_tab]
# The color of the background area for the tab
bg_color = &quot;#2b2042&quot;
# The color of the text for the tab
fg_color = &quot;#c0c0c0&quot;

# Specify whether you want &quot;Half&quot;, &quot;Normal&quot; or &quot;Bold&quot; intensity for the
# label shown for this tab.
# The default is &quot;Normal&quot;
intensity = &quot;Normal&quot;

# Specify whether you want &quot;None&quot;, &quot;Single&quot; or &quot;Double&quot; underline for
# label shown for this tab.
# The default is &quot;None&quot;
underline = &quot;None&quot;

# Specify whether you want the text to be italic (true) or not (false)
# for this tab.  The default is false.
italic = false

# Specify whether you want the text to be rendered with strikethrough (true)
# or not for this tab.  The default is false.
strikethrough = false

# Inactive tabs are the tabs that do not have focus
[colors.tab_bar.inactive_tab]
bg_color = &quot;#1b1032&quot;
fg_color = &quot;#808080&quot;

# The same options that were listed under the `active_tab` section above
# can also be used for `inactive_tab`.

# You can configure some alternate styling when the mouse pointer
# moves over inactive tabs
[colors.tab_bar.inactive_tab_hover]
bg_color = &quot;#3b3052&quot;
fg_color = &quot;#909090&quot;
italic = true

# The same options that were listed under the `active_tab` section above
# can also be used for `inactive_tab_hover`.
</code></pre>
<h3><a class="header" href="#window-padding" id="window-padding">Window Padding</a></h3>
<p>You may add padding around the edges of the terminal cells:</p>
<pre><code>[window_padding]
left = 2

# This will become the scrollbar width if you have enabled the scrollbar!
right = 2

top = 0
bottom = 0
</code></pre>
<h2><a class="header" href="#hyperlinks" id="hyperlinks">Hyperlinks</a></h2>
<p>wezterm has support for both implicit and explicit hyperlinks.</p>
<h3><a class="header" href="#implicit-hyperlinks" id="implicit-hyperlinks">Implicit Hyperlinks</a></h3>
<p>Implicit hyperlinks are produced by running a series of rules over the output
displayed in the terminal to produce a hyperlink.  There is a default rule
to match URLs and make them clickable, but you can also specify your own rules
to make your own links.  As an example, at my place of work many of our internal
tools use <code>T123</code> to indicate task number 123 in our internal task tracking system.
It is desirable to make this clickable, and that can be done with the following
configuration:</p>
<pre><code class="language-toml"># Linkify things that look like URLs
# This is actually the default if you don't specify any hyperlink_rules
[[hyperlink_rules]]
regex = &quot;\\b\\w+://(?:[\\w.-]+)\\.[a-z]{2,15}\\S*\\b&quot;
format = &quot;$0&quot;

# Un-comment this if you want to linkify email addresses
#[[hyperlink_rules]]
#regex = &quot;\\b\\w+@[\\w-]+(\\.[\\w-]+)+\\b&quot;
#format = &quot;mailto:$0&quot;

# Make task numbers clickable
[[hyperlink_rules]]
regex = &quot;\\b[tT](\\d+)\\b&quot;
format = &quot;https://example.com/tasks/?t=$1&quot;
</code></pre>
<h3><a class="header" href="#explicit-hyperlinks" id="explicit-hyperlinks">Explicit Hyperlinks</a></h3>
<p>wezterm supports the relatively new <a href="https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda">Hyperlinks in Terminal
Emulators</a>
specification that allows emitting text that can be clicked and resolve to a
specific URL, without the URL being part of the display text.  This allows
for a cleaner presentation.</p>
<p>The gist of it is that running the following bash one-liner:</p>
<pre><code class="language-bash">printf '\e]8;;http://example.com\e\\This is a link\e]8;;\e\\\n'
</code></pre>
<p>will output the text <code>This is a link</code> that when clicked will open
<code>http://example.com</code> in your browser.</p>
<h2><a class="header" href="#shell-integration" id="shell-integration">Shell Integration</a></h2>
<p>wezterm supports integrating with the shell through the following means:</p>
<h3><a class="header" href="#osc-7-escape-sequence-to-set-the-working-directory" id="osc-7-escape-sequence-to-set-the-working-directory">OSC 7 Escape sequence to set the working directory</a></h3>
<p><code>OSC</code> is escape sequence jargon for <em>Operating System Command</em>; <code>OSC 7</code> means
Operating System Command number 7.  This is an escape sequence that originated
in the macOS Terminal application that is used to advise the terminal of the
current working directory.</p>
<p>An application (usually your shell) can be configured to emit this escape
sequence when the current directory changes, or just to emit it each time
it prints the prompt.</p>
<p>The current working directory can be specified as a URL like this:</p>
<pre><code class="language-bash">printf &quot;\033]7;file://HOSTNAME/CURRENT/DIR\033\\&quot;
</code></pre>
<p><strong>When the current working directory has been set via OSC 7, spawning
a new tab will use the current working directory of the current tab,
so that you don't have to manually change the directory</strong>.</p>
<p>If you are on a modern Fedora installation, the defaults for bash and
zsh source a <code>vte.sh</code> script that configures the shell to emit this
sequence.  On other systems you will likely need to configure this
for yourself.</p>
<h3><a class="header" href="#osc-7-on-windows-with-cmdexe" id="osc-7-on-windows-with-cmdexe">OSC 7 on Windows with cmd.exe</a></h3>
<p><code>cmd.exe</code> doesn't allow a lot of flexibility in configuring the prompt,
but fortunately it does allow for emitting escape sequences.  You
can use the <code>set_environment_variables</code> configuration to pre-configure
the prompt environment in your <code>wezterm.toml</code>; this example configures
the use of OSC 7 as well as including the time and current directory in
the visible prompt with green and purple colors, and makes the prompt
span multiple lines:</p>
<pre><code class="language-toml">[set_environment_variables]
prompt = &quot;$E]7;file://localhost/$P$E\\$E[32m$T$E[0m $E[35m$P$E[36m$_$G$E[0m &quot;
</code></pre>
<h2><a class="header" href="#using-clink-on-windows-systems" id="using-clink-on-windows-systems">Using clink on Windows Systems</a></h2>
<p><a href="https://github.com/mridgers/clink">Clink</a> brings bash style line editing to
your Windows cmd.exe experience.  If you haven't installed clink to be the
global default on your system, you can configure wezterm to launch clink by
setting the <code>default_prog</code> configuration in your <code>wezterm.toml</code>; for example,
if you have extracted clink to <code>c:\clink_0.4.9</code> you might configure this:</p>
<pre><code class="language-toml">default_prog = [&quot;cmd.exe&quot;, &quot;/s&quot;, &quot;/k&quot;, &quot;c:/clink_0.4.9/clink_x64.exe&quot;, &quot;inject&quot;, &quot;-q&quot;]
</code></pre>
<p>Now, rather than just running <code>cmd.exe</code> on its own, this will cause <code>cmd.exe</code>
to self-inject the clink line editor.</p>
<h2><a class="header" href="#iterm-image-protocol-support" id="iterm-image-protocol-support">iTerm Image Protocol Support</a></h2>
<p>wezterm implements support for the <a href="https://iterm2.com/documentation-images.html">iTerm2 inline images
protocol</a> and provides a handy
<code>imgcat</code> subcommand to make it easy to try out.  Because the protocol is
just a protocol, wezterm's <code>imgcat</code> also renders images in iTerm2.</p>
<p>To render an image inline in your terminal:</p>
<pre><code>$ wezterm imgcat /path/to/image.png
</code></pre>
<img width="100%" height="100%" src="screenshots/wezterm-imgcat.png" alt="inline image display">
<p><strong>Note that the image protocol isn't fully handled by multiplexer sessions
at this time</strong>.</p>
<h2><a class="header" href="#ssh-connections" id="ssh-connections">SSH Connections</a></h2>
<p>wezterm uses libssh2 to provide an integrated SSH client.  The
client can be used to make ad-hoc SSH connections to remote hosts
by invoking the client:</p>
<pre><code>$ wezterm ssh wez@my.server
</code></pre>
<p>(checkout <code>wezterm ssh -h</code> for more options).</p>
<p>When invoked in this way, wezterm may prompt you for SSH authentication
and once a connection is established, open a new terminal window with
your requested command, or your shell if you didn't specify one.</p>
<p>Creating a new tab will create a new channel in your existing session
so you won't need to re-authenticate for additional tabs that you
create.</p>
<p>SSH sessions created in this way are non-persistent and all associated
tabs will die if your network connection is interrupted.</p>
<p>Take a look at <a href="multiplexing.html">the multiplexing section</a> for an
alternative configuration that connects to a remote wezterm instance
and preserves your tabs.</p>
<h2><a class="header" href="#serial-ports" id="serial-ports">Serial Ports</a></h2>
<p>wezterm can also connect to serial ports as a client.  This is useful
for example when working with embedded devices such as Arduino, or
when connecting to a serial console on a headless server.</p>
<p>For example, on Linux:</p>
<pre><code>$ wezterm serial /dev/ttyUSB0
</code></pre>
<p>or on Windows:</p>
<pre><code>$ wezterm serial COM0
</code></pre>
<p>You can also specify the baud rate:</p>
<pre><code>$ wezterm serial --baud 38400 /dev/ttyUSB0
</code></pre>
<p>When a wezterm window is operating in serial mode it is not possible to create
new tabs.</p>
<p><strong>Notice:</strong> <em>multiplexing is still a young feature and is evolving rapidly.
Your feedback is welcomed!</em></p>
<h2><a class="header" href="#multiplexing" id="multiplexing">Multiplexing</a></h2>
<p>The out-of-the-box experience with <code>wezterm</code> allows you to multiplex local tabs
and windows which will persist until they are closed.  With a little extra
configuration you can enable local terminal multiplexing with features similar
to those in <a href="https://github.com/tmux/tmux/wiki">tmux</a> or <a href="https://en.wikipedia.org/wiki/GNU_Screen">screen</a>.</p>
<p>Multiplexing in <code>wezterm</code> is based around the concept of <em>multiplexing domains</em>;
a domain is a distinct set of windows and tabs.  When wezterm starts up it
creates a default <em>local domain</em> to manage the windows and tabs in the UI, but it
can also be configured to start or connect to any number of additional domains.</p>
<p>Once connected to a domain, <code>wezterm</code> can attach its windows and tabs to the
local native UI, providing a more natural experience for interacting with
the mouse, clipboard and scrollback features of the terminal.</p>
<p>Key bindings allow you to spawn new tabs in the default local domain,
the domain of the current tab, or a specific numbered domain.</p>
<h2><a class="header" href="#ssh-domains" id="ssh-domains">SSH Domains</a></h2>
<p><em>wezterm also supports <a href="ssh.html">regular ad-hoc ssh connections</a>.
This section of the docs refers to running a wezterm daemon on the remote end
of a multiplexing session that uses ssh as a channel</em></p>
<p>A connection to a remote wezterm multiplexer made via an ssh connection is
referred to as an <em>SSH domain</em>.  <strong>A compatible version of wezterm must be
installed on the remote system in order to use SSH domains</strong>.
SSH domains are supported on all systems via libssh2.</p>
<p>To configure an SSH domain, place something like the following in
your <code>wezterm.toml</code> file:</p>
<pre><code>[[ssh_domains]]
# This name identifies the domain
name = &quot;my.server&quot;
# The address to connect to
remote_address = &quot;192.168.1.1&quot;
# The username to use on the remote host
username = &quot;wez&quot;
</code></pre>
<p>To connect to the system, run:</p>
<pre><code>$ wezterm connect my.server
</code></pre>
<p>This will launch an SSH session that connects to the specified address
and may pop up authentication dialogs (using SSH keys for auth is
strongly recommended!).  Once connected, it will attempt to spawn
the wezterm multiplexer daemon on the remote host and connect to
it via a unix domain socket using a similar mechanism to that
described in the <em>Unix Domains</em> section below.</p>
<h2><a class="header" href="#unix-domains" id="unix-domains">Unix Domains</a></h2>
<p>A connection to a multiplexer made via a unix socket is referred to
as a <em>unix domain</em>.  Unix domains are supported on all systems,
<a href="https://devblogs.microsoft.com/commandline/af_unix-comes-to-windows/">even Windows</a>
and are a way to connect the native win32 GUI into the Windows Subsystem for Linux (WSL).</p>
<p>The bare minimum configuration to enable a unix domain is this, which will
spawn a server if needed and then connect the gui to it automatically
when wezterm is launched:</p>
<pre><code class="language-toml">[[unix_domains]]
name = &quot;unix&quot;
connect_automatically = true
</code></pre>
<p>If you prefer to connect manually, omit the <code>connect_automatically</code> setting
(or set it to <code>false</code>) and then run:</p>
<pre><code>$ wezterm connect unix
</code></pre>
<p>The possible configuration values are:</p>
<pre><code class="language-toml">[[unix_domains]]
name = &quot;unix&quot;
# If true, connect to this unix domain when `wezterm` is started
connect_automatically = true

# The path to the socket.  If unspecified, a resonable default
# value will be computed.
# socket_path = &quot;/some/path&quot;

# If true, do not attempt to start this server if we try and fail to
# connect to it.
# no_serve_automatically = false

# If true, bypass checking for secure ownership of the
# socket_path.  This is not recommended on a multi-user
# system, but is useful for example when running the
# server inside a WSL container but with the socket
# on the host NTFS volume.
# skip_permissions_check = false
</code></pre>
<h3><a class="header" href="#connecting-into-windows-subsystem-for-linux" id="connecting-into-windows-subsystem-for-linux">Connecting into Windows Subsystem for Linux</a></h3>
<p>Inside your WSL instance, configure <code>wezterm.toml</code> with this snippet:</p>
<pre><code class="language-toml">[[unix_domains]]
name = &quot;wsl&quot;
# Override the default path to match the default on the host win32
# filesystem.  This will allow the host to connect into the WSL
# container.
socket_path = &quot;/mnt/c/Users/USERNAME/.local/share/wezterm/sock&quot;
# NTFS permissions will always be &quot;wrong&quot;, so skip that check
skip_permissions_check = true
</code></pre>
<p>In the host win32 configuration, use this snippet:</p>
<pre><code class="language-toml">[[unix_domains]]
name = &quot;wsl&quot;
connect_automatically = true
serve_command = [&quot;wsl&quot;, &quot;wezterm&quot;, &quot;start&quot;, &quot;--daemonize&quot;, &quot;--front-end&quot;, &quot;MuxServer&quot;]
</code></pre>
<p>Now when you start wezterm you'll be presented with a WSL tab.</p>
<p>You can also set <code>connect_automatically = false</code> and use:</p>
<pre><code>$ wezterm connect wsl
</code></pre>
<p>to manually connect into your WSL instance.</p>
<h2><a class="header" href="#tls-domains" id="tls-domains">TLS Domains</a></h2>
<p>A connection to a multiplexer made via a <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">TLS</a>
encrypted TCP connection is referred to as a <em>TLS Domain</em>.</p>
<p>Starting with version <code>20200202-180558-2489abf9</code>, wezterm can bootstrap a TLS
session by performing an initial connection via SSH to start the wezterm
multiplexer on the remote host and securely obtain a key.  Once bootstrapped,
the client will use a TLS protected TCP connection to communicate with the
server.</p>
<h3><a class="header" href="#configuring-the-client" id="configuring-the-client">Configuring the client</a></h3>
<p>For each server that you wish to connect to, add a client section like this:</p>
<pre><code class="language-toml">[[tls_clients]]
# A handy alias for this session; you will use `wezterm connect server.name`
# to connect to it.
name = &quot;server.name&quot;
# The host:port for the remote host
remote_address = &quot;server.hostname:8080&quot;
# The value can be &quot;user@host:port&quot;; it accepts the same syntax as the
# `wezterm ssh` subcommand.
bootstrap_via_ssh = &quot;server.hostname&quot;
</code></pre>
<h3><a class="header" href="#configuring-the-server" id="configuring-the-server">Configuring the server</a></h3>
<pre><code class="language-toml">[[tls_servers]]
# The host:port combination on which the server will listen
# for connections
bind_address = &quot;server.hostname:8080&quot;
</code></pre>
<h3><a class="header" href="#connecting" id="connecting">Connecting</a></h3>
<p>On the client, running this will connect to the server, start up
the multiplexer and obtain a certificate for the TLS connection.
A connection window will show the progress and may prompt you for
SSH authentication.  Once the connection has been initiated, wezterm
will automatically reconnect using the certificate it obtained during
bootstrapping if your connection was interrupted and resume your
remote terminal session</p>
<pre><code class="language-bash">$ wezterm connect server.name
</code></pre>
<h1><a class="header" href="#frequently-asked-questions" id="frequently-asked-questions">Frequently Asked Questions</a></h1>
<h2><a class="header" href="#some-glyphs-look-messed-up-why-is-that" id="some-glyphs-look-messed-up-why-is-that">Some glyphs look messed up, why is that?</a></h2>
<p>There's a surprisingly amount of work that goes into rendering text,
and if you're connected to a remote host, it may span both systems.</p>
<h3><a class="header" href="#lang-and-locale" id="lang-and-locale">LANG and locale</a></h3>
<p>Terminals operate on byte streams and don't necessarily know anything about the
encoding of the text that you're sending through.  The unix model for this is
that the end user (that's you!) will instruct the applications that you're
running to use a particular locale to interpret the byte stream.</p>
<p>It is common for these environment variables to not be set, or to be set to
invalid values by default!</p>
<p>You need to select a unicode locale for best results; for example:</p>
<pre><code>export LANG=en_US.UTF-8
# You don't strictly need this collation, but most technical people
# probably want C collation for sane results
export LC_COLLATE=C
</code></pre>
<p>If you have other <code>LC_XXX</code> values in your environment, either remove
them from your environment (if applicable) or adjust them to use a
UTF-8 locale.</p>
<p>You can run <code>locale -a</code> to list the available locales on your system.</p>
<p>You need to make sure that this setting applies both locally and on systems
that you log in to via ssh or the mux connection protocol.</p>
<p>If you're seeing multiple garbage characters in your terminal in place of
what should be a single glyph then you most likely have a problem with your
locale environment variables.</p>
<h3><a class="header" href="#fonts-and-fallback" id="fonts-and-fallback">Fonts and fallback</a></h3>
<p>If you have configured the use of a font that contains only latin characters
and then try to display a glyph that isn't present in that font (perhaps an
emoji, or perhaps some kanji) then wezterm will try to locate a fallback
font that does contain that glyph.</p>
<p>Wezterm uses freetype and harfbuzz to perform font shaping and rendering in a
cross platform way, and as a consequence, doesn't have access to the system
font fallback selection.  Instead it has a short list of fallback fonts that
are likely to be present on the system and tries to use those.</p>
<p>If you're seeing the unicode replacement character, a question mark or in
the worst cases spaces where a glyph should be, then you have an issue with
font fallback.</p>
<p>You can resolve this by explicitly adding fallback font(s) the have the glyphs
that you need in your <code>wezterm.toml</code>:</p>
<pre><code class="language-toml">[[font.font]]
family = &quot;My Preferred Font&quot;

# This font has a broader selection of Chinese glyphs than my preferred font
[[font.font]]
family = &quot;DengXian&quot;
</code></pre>
<h3><a class="header" href="#some-but-not-all-emoji-dont-render-properly" id="some-but-not-all-emoji-dont-render-properly">Some (but not all) Emoji don't render properly</a></h3>
<p>To some extent this issue can manifest in a similar way to the LANG and locale
issue.  There are different versions of the Emoji specifications and the level
of support in different applications can vary.  Emoji can be comprised from a
sequence of codepoints and some combine in interesting ways such as a foot and
a skin tone.  Applications that don't support this correctly may end up
emitting incorrect output.  For example, pasting some emoji into the zsh REPL
confuses its input parser and results in broken emoji output.  However, if you
were to emit that same emoji from a script, wezterm would render it correctly.</p>
<p>If you're seeing this sort of issue, then you may be able to upgrade the
affected application on that system to see if a newer version resolves that
issue.</p>
<h2><a class="header" href="#getting-help" id="getting-help">Getting Help</a></h2>
<p>This is a spare time project, so please bear with me.  There are two channels for support:</p>
<ul>
<li>You can use the GitHub issue tracker to see if someone else has a similar issue, or to file a new one: https://github.com/wez/wezterm/issues</li>
<li>There is a <a href="https://gitter.im/wezterm/Lobby">Gitter room</a> which is bridged to <a href="https://riot.im/app/#/room/#gitter_wezterm=2Flobby:matrix.org">the Matrix/Riot.im</a> for (potentially!) real time discussions</li>
</ul>
<p>The Gitter/Matrix room is probably better suited to questions than it is to bug
reports, but don't be afraid to use whichever you are most comfortable using
and we'll work it out.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
